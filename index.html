<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Page de démarrage Inetum - CPRPF">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Calculatrice CPRPF">
  <title>Inetum - CPRPF - Starter page</title>
  
  <!-- Styles -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="https://www.inetum.com/themes/custom/web_ui/favicon.ico" type="image/vnd.microsoft.icon">
  <link rel="apple-touch-icon" href="Calc-iphone.png">
  
  <!-- Scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js" defer></script>
  <script src="links.js" defer></script>
  <script src="calculator.js" defer></script>
</head>
<body>

<!-- Header avec 2 logos -->
<header class="container-fluid">
  <div class="row">
    <div class="col-sm-6">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/INETUM_LOGO.png/1200px-INETUM_LOGO.png" alt="Logo Inetum" class="logo-inetum">
    </div>
    <div class="col-sm-6">
      <img src="https://www.cprpf.fr/app/uploads/2023/12/logo-cpr-2024.png" alt="Logo CPRPF" class="logo-cprpf">
    </div>
  </div>
</header>

<!-- Container principal -->
<div class="container-fluid">
  <div class="card-deck">
    <!-- Carte Équipe -->
    <div class="col-sm-4" style="padding: 10px;">
      <div class="card custom-card" style="background-color: #242D4C;">
        <div class="card-body text-white">
          <h3 class="card-title"><i class="fa-solid fa-users"></i>&nbsp;<b>Equipe</b></h3>
          <div id="equipe-links"></div>
        </div>
      </div>
    </div>

    <!-- Carte Référentiel -->
    <div class="col-sm-4" style="padding: 10px;">
      <div class="card custom-card" style="background-color: #74D9D0;">
        <div class="card-body text-white">
          <h3 class="card-title"><i class="fa-solid fa-lines-leaning"></i>&nbsp;<b>Référentiel</b></h3>
          <div id="referentiel-links"></div>
        </div>
      </div>
    </div>

    <!-- Carte Pilotage -->
    <div class="col-sm-4" style="padding: 10px;">
      <div class="card custom-card" style="background-color: #01A99D;">
        <div class="card-body text-white">
          <h3 class="card-title"><i class="fa-solid fa-bars-progress"></i>&nbsp;<b>Pilotage</b></h3>
          <div id="pilotage-links"></div>
        </div>
      </div>
    </div>

    <!-- Carte Risques -->
    <div class="col-sm-4" style="padding: 10px;">
      <div class="card custom-card" style="background-color: #EA5D2B;">
        <div class="card-body text-white">
          <h3 class="card-title"><i class="fa-solid fa-bolt"></i>&nbsp;<b>Risques</b></h3>
          <div id="risques-links"></div>
        </div>
      </div>
    </div>

    <!-- Carte Collaboratif -->
    <div class="col-sm-4" style="padding: 10px;">
      <div class="card custom-card" style="background-color: #964274;">
        <div class="card-body text-white">
          <h3 class="card-title"><i class="fa-solid fa-share-nodes"></i>&nbsp;<b>Collaboratif</b></h3>
          <div id="collaboratif-links"></div>
        </div>
      </div>
    </div>

    <!-- Carte Outils -->
    <div class="col-sm-4" style="padding: 10px;">
      <div class="card custom-card" style="background-color: #3498DB;">
        <div class="card-body text-white">
          <h3 class="card-title"><i class="fa-solid fa-toolbox"></i>&nbsp;<b>Outils</b></h3>
          <div id="outils-links"></div>
        </div>
      </div>
    </div>

    <!-- Carte Livraisons -->
    <div class="col-sm-4" style="padding: 10px;">
      <div class="card custom-card" style="background-color: #F14668;">
        <div class="card-body text-white">
          <h3 class="card-title"><i class="fa-solid fa-cubes"></i>&nbsp;<b>Livraisons</b></h3>
          <div id="livraisons-links"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="bg-body-tertiary text-center text-lg-start">
  <div class="text-center p-3">
    &copy; 2024 Copyright: Inetum
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Rendu des liens pour chaque catégorie
    renderLinks('equipe', 'equipe-links');
    renderLinks('referentiel', 'referentiel-links');
    renderLinks('pilotage', 'pilotage-links');
    renderLinks('risques', 'risques-links');
    renderLinks('collaboratif', 'collaboratif-links');
    renderLinks('outils', 'outils-links');
    renderLinks('livraisons', 'livraisons-links');
});
</script>

<!-- Styles pour la calculatrice -->
<style>
.calculator-modal .modal-content {
    border-radius: 15px;
    border: none;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    background: linear-gradient(145deg, #ffffff, #f6f9fc);
}

.calculator-modal .modal-header {
    background: linear-gradient(145deg, #007bff, #0056b3);
    color: white;
    border-radius: 15px 15px 0 0;
    padding: 1.5rem;
    border: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.calculator-modal .modal-header-buttons {
    display: flex;
    align-items: center;
}

.calculator-modal .modal-header .btn-link {
    padding: 0.25rem 0.5rem;
    font-size: 1.1rem;
    transition: all 0.3s;
    border-radius: 4px;
}

.calculator-modal .modal-header .btn-link:hover {
    background: rgba(255, 255, 255, 0.1);
    text-decoration: none;
}

.calculator-modal .modal-title {
    font-size: 1.5rem;
    font-weight: 600;
}

.calculator-modal .close {
    color: white;
    opacity: 0.8;
    transition: opacity 0.3s;
}

.calculator-modal .close:hover {
    opacity: 1;
}

.calculator-modal .modal-body {
    padding: 2rem;
}

.calculator-modal .form-group {
    margin-bottom: 1.5rem;
}

.calculator-modal label {
    font-weight: 500;
    color: #2d3748;
    margin-bottom: 0.5rem;
}

.calculator-modal .form-control {
    border-radius: 10px;
    border: 2px solid #e2e8f0;
    padding: 0.75rem 1rem;
    transition: all 0.3s;
    background: #f8fafc;
}

.calculator-modal .form-control:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
    outline: none;
}

.calculator-modal select.form-control {
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 1rem center;
    background-size: 1em;
    padding-right: 2.5rem;
    width: 100%;
    font-size: 0.9rem;
    line-height: 1.2;
    white-space: normal;
    height: auto;
    min-height: 42px;
}

.calculator-modal select.form-control option {
    font-size: 0.9rem;
    padding: 8px;
    white-space: normal;
}

.calculator-modal select.form-control::-ms-expand {
    display: none;
}

.calculator-modal select.form-control:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
    outline: none;
}

.calculator-modal .result-container {
    background: linear-gradient(145deg, #f8fafc, #edf2f7);
    border-radius: 12px;
    padding: 1.5rem;
    margin-top: 2rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    transition: all 0.3s;
}

.calculator-modal .result-container:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.08);
}

.calculator-modal .result-label {
    font-weight: 600;
    color: #2d3748;
    font-size: 1.1rem;
}

.calculator-modal .result-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: #007bff;
    margin-left: 0.5rem;
}

.calculator-modal .modal-footer {
    border-top: none;
    padding: 1.5rem;
}

.calculator-modal .clear-button {
    width: 100%;
    padding: 0.75rem;
    font-weight: 500;
    transition: all 0.3s;
    border-radius: 10px;
}

.calculator-modal .clear-button:hover {
    background-color: #dc3545;
    color: white;
    border-color: #dc3545;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
</style>

<!-- Modal Calculatrice -->
<div class="modal fade calculator-modal" id="calculatorModal" tabindex="-1" role="dialog" aria-labelledby="calculatorModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="calculatorModalLabel">
          <i class="fas fa-calculator mr-2"></i>Calculatrice
        </h5>
        <div class="modal-header-buttons">
          <a href="calculator.html" class="btn btn-link text-white mr-2" target="_blank" title="Ouvrir dans une nouvelle page">
            <i class="fas fa-external-link-alt"></i>
          </a>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="operation">
            <i class="fas fa-cog mr-2"></i>Type de calcul
          </label>
          <select class="form-control" id="operation">
            <option value="cjmFromSab">Calculer CJM depuis SAB</option>
            <option value="sabFromCjm">Calculer SAB depuis CJM</option>
            <option value="margin">Calculer la marge</option>
            <option value="increase">Calculer SAB après augmentation</option>
            <option value="increasePercentage">Calculer % d'augmentation entre 2 SAB</option>
          </select>
        </div>
        <div class="form-group">
          <label id="input1Label" for="input1">
            <i class="fas fa-euro-sign mr-2"></i>SAB (€)
          </label>
          <input type="number" class="form-control" id="input1" step="any" placeholder="Entrez une valeur...">
        </div>
        <div class="form-group">
          <label id="input2Label" for="input2">
            <i class="fas fa-euro-sign mr-2"></i>Second nombre
          </label>
          <input type="number" class="form-control" id="input2" step="any" placeholder="Entrez une valeur...">
        </div>
        <div class="result-container">
          <label id="resultLabel" class="result-label">
            <i class="fas fa-equals mr-2"></i>CJM (€)
          </label>
          <span id="result" class="result-value">-</span>
        </div>
        <button onclick="clearCalculator()" class="btn btn-outline-secondary mt-3 clear-button">
          <i class="fas fa-eraser mr-2"></i>Effacer
        </button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>
</body>
</html>
